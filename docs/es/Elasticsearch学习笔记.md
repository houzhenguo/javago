
参考链接： https://juejin.im/post/5e264b026fb9a03003008435#comment

Elasticsearch is a real-time, distributed storage, search, and analytics engine

ES 是一个近实时的，分布式的存储，搜索，分析引擎。

## 背景

相对数据库 ，ES的强大之处就是可以 `模糊查询`。

```sql
// 传统写法
select * from user where name like '%李四%' 
```
这样就可以 把 李四 相关的内容全部内容查询出来了，但是 这种查询的方式 是不走 `索引`的，只要你的数据库的量很大，
不走索引意味着你的查询时 秒级别的。

即便 你从数据库 根据 `模糊匹配` 查出相应的记录了，通常会返回`大量的数据`给你。还有一个问题就是用户的输入
可能没有那么准确。

## 特点

ES 是专门做 搜索的。

- ES 对模糊搜索非常快
- ES 搜索到的数据 可以 根据`评分`过滤掉大部分，只要返回评分高的给用户就可以了。
- 不是特别准确的关键字 也能搜索出相关的结果（能匹配有相关性的记录）

## 数据结构
1. 我们得知道 ES为什么可以实现快速的 `模糊匹配/相关性查询` 实际上是你写入数据到 ES的时候会进行`分词`。
2. 根据`完成的条件` 查找一条记录叫做 `正向索引`
3. 根据`某个词`(不完整的条件)再查找对应的记录，叫做 倒排索引。

那么 ES 是怎么切分 这些词的呢。ES内置了一些分词器

- Standard Analyzer 。按词切分，将词小写
- Simple Analyzer 按非字母过滤（符号被过滤掉） 将词小写
- WhitespaceAnalyzer 按照空格切分，不转小写



